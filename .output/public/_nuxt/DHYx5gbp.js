import{Y as m,r,Z as c,i as f}from"./BLO-2kdC.js";const h=m("auth",()=>{const l=r(!1),o=r({id:null,email:"",fullname:"",phoneNumber:"",role:""}),t=c(),u=()=>{if(typeof window<"u"){const e=localStorage.getItem("user"),a=localStorage.getItem("token");e&&a&&(l.value=!0,o.value=JSON.parse(e))}},s=e=>{l.value=!0,o.value={id:e.user.id,email:e.user.email,fullname:e.user.fullname,phoneNumber:e.user.phoneNumber,role:e.user.role},localStorage.setItem("user",JSON.stringify(o.value)),localStorage.setItem("token",e.token),e.user.role==="admin"?t.push("/admin"):e.user.role==="cashier"?t.push("/cashier"):t.push("/")},n=()=>{l.value=!1,o.value={id:null,email:"",fullname:"",phoneNumber:"",role:""},localStorage.removeItem("user"),localStorage.removeItem("token"),t.push("/")},i=f(()=>{var e;return((e=o.value)==null?void 0:e.role)==="admin"});return{isAuthenticated:l,user:o,login:s,logout:n,initializeAuth:u,isAdmin:i}});export{h as u};
