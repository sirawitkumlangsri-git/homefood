{"file":"index-zMcSibq1.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAAA,iBAAA,MAAA,OAAA,SAAA,QAAA;;;;;;;;;;;ACAA,SAAA,eAAA,MAAA,OAAA,SAAA,QAAA;;;;;;;;;;;;;;ACsEA,UAAM,SAAS,IAAI,CAAE,CAAA;AAErB,UAAM,SAAS,UAAS;AAcxB,UAAM,aAAa,OAAO,UAAU;AAClC,YAAM,YAAY,QAAQ,+BAA+B;AACzD,UAAI,CAAC,UAAW;AAChB,UAAI;AACF,cAAM,WAAW,MAAM,MAAM,mBAAmB,KAAK,IAAI;AAAA,UACvD,QAAQ;AAAA,QACd,CAAK;AACD,YAAI,CAAC,SAAS,GAAI,OAAM,IAAI,MAAM,aAAa;AAC/C,eAAO,QAAQ,OAAO,MAAM,OAAO,UAAQ,KAAK,UAAU,KAAK;AAAA,MAChE,SAAQ,KAAK;AACZ,gBAAQ,MAAM,wBAAwB,GAAG;AAAA,MAC7C;AAAA,IACA;AAEA,UAAM,WAAW,CAAC,OAAO;AACvB,aAAO,KAAK,qBAAqB,EAAE,EAAE;AAAA,IACvC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["_sfc_ssrRender"],"sources":["../../../../components/admin/icons/Trash.vue","../../../../components/admin/icons/Edit.vue","../../../../pages/admin/users/index.vue"],"sourcesContent":["<template>\n  <div>\n    <svg xmlns=\"http://www.w3.org/2000/svg\" x=\"0px\" y=\"0px\" width=\"24\" height=\"24\" viewBox=\"0 0 32 32\" fill=\"#ffffff\">\n      <path\n        d=\"M 15 4 C 14.476563 4 13.941406 4.183594 13.5625 4.5625 C 13.183594 4.941406 13 5.476563 13 6 L 13 7 L 7 7 L 7 9 L 8 9 L 8 25 C 8 26.644531 9.355469 28 11 28 L 23 28 C 24.644531 28 26 26.644531 26 25 L 26 9 L 27 9 L 27 7 L 21 7 L 21 6 C 21 5.476563 20.816406 4.941406 20.4375 4.5625 C 20.058594 4.183594 19.523438 4 19 4 Z M 15 6 L 19 6 L 19 7 L 15 7 Z M 10 9 L 24 9 L 24 25 C 24 25.554688 23.554688 26 23 26 L 11 26 C 10.445313 26 10 25.554688 10 25 Z M 12 12 L 12 23 L 14 23 L 14 12 Z M 16 12 L 16 23 L 18 23 L 18 12 Z M 20 12 L 20 23 L 22 23 L 22 12 Z\">\n      </path>\n    </svg>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style></style>","<template>\n  <div>\n    <svg class=\"w-6 h-6 text-gray-800 dark:text-white\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\"\n      height=\"24\" fill=\"none\" viewBox=\"0 0 24 24\">\n      <path stroke=\"currentColor\" stroke-linecap=\"square\" stroke-linejoin=\"round\" stroke-width=\"2\"\n        d=\"M7 19H5a1 1 0 0 1-1-1v-1a3 3 0 0 1 3-3h1m4-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm7.441 1.559a1.907 1.907 0 0 1 0 2.698l-6.069 6.069L10 19l.674-3.372 6.07-6.07a1.907 1.907 0 0 1 2.697 0Z\" />\n    </svg>\n  </div>\n</template>\n\n<script lang=\"ts\" setup>\n\n</script>\n\n<style></style>","<template>\n  <adminLayouts>\n    <div class=\"container mx-auto p-4 bg-base-100 rounded-lg\">\n      <div class=\"flex justify-center items-center bg-[#FF8128] w-full h-20 shadow-md rounded-full bg-opacity-50\">\n        <h2 class=\"sm:text-5xl text-3xl font-bold text-[#fefeff] text-stroke tracking-wide\">จัดการผู้ใช้บริการ</h2>\n      </div>\n      <div class=\"overflow-x-auto mt-5\">\n\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th>\n                <p class=\"text-center\">ลำดับ</p>\n              </th>\n              <th>\n                <p class=\"text-center\">อีเมล</p>\n              </th>\n              <th>\n                <p class=\"text-center\">ชื่อเต็ม</p>\n              </th>\n              <th>\n                <p class=\"text-center\">เบอร์โทรศัพท์</p>\n              </th>\n              <th>\n                <p class=\"text-center\">Role</p>\n              </th>\n              <th></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(user, index) in useres\" :key=\"user.id\">\n              <td>\n                <p class=\"text-center\">{{ user.id }}</p>\n              </td>\n              <td>\n                <p class=\"text-center\">{{ user.email }}</p>\n              </td>\n              <td>\n                <p class=\"text-center\">{{ user.fullname }}</p>\n              </td>\n              <td>\n                <p class=\"text-center\">{{ user.phoneNumber }}</p>\n              </td>\n              <td>\n                <p class=\"text-center\">{{ user.role }}</p>\n              </td>\n              <td>\n                <div class=\"flex gap-2 justify-center\">\n                  <button class=\"btn\" @click=\"deleteUser(user.email)\">\n                    <Trash />\n                  </button>\n                  <button class=\"btn btn-accent\" @click=\"editUser(user.id)\">\n                    <Edit />\n                  </button>\n                </div>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </adminLayouts>\n</template>\n\n<script setup>\nimport adminLayouts from '~/layouts/adminLayouts.vue'\n\nimport Trash from '~/components/admin/icons/Trash.vue';\nimport Edit from '~/components/admin/icons/Edit.vue';\n\nconst useres = ref([])\n\nconst router = useRouter()\n\nconst fetchUser = async () => {\n  try {\n    const response = await fetch('/api/admin/users', {\n      method: 'GET',\n    });\n    if (!response.ok) throw new Error('แสดงข้อมูลผู้ใช้ไม่สำเร็จ');\n    useres.value = await response.json();\n  } catch (err) {\n    console.error('แสดงข้อมูลผู้ใช้ไม่สำเร็จ:', err);\n  }\n};\n\nconst deleteUser = async (email) => {\n  const confirmed = confirm('คุณต้องการลบผู้ใช้นี้หรือไม่?');\n  if (!confirmed) return;\n  try {\n    const response = await fetch(`/api/user?email=${email}`, {\n      method: 'DELETE',\n    });\n    if (!response.ok) throw new Error('ลบไม่สำเร็จ');\n    useres.value = useres.value.filter(user => user.email !== email);\n  } catch (err) {\n    console.error('Error deleting user:', err);\n  }\n};\n\nconst editUser = (id) => {\n  router.push(`/admin/users/edit/${id}`);\n};\n\nonMounted(async () => {\n  await fetchUser()\n  console.log('user: ', useres.value)\n})\n</script>\n\n<style scoped>\n.text-stroke {\n  text-shadow: -5px -1px 0 #FF8128, 1px -1px 0 #FF8128, -5px 1px 0 #FF8128, 1px 1px 0 #FF8128;\n}\n</style>"],"version":3}